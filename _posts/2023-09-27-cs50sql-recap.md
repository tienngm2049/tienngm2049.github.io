---
title: CS50SQL - Recap Learning
tags: [CS50, SQLite, MySQL, PostgresSQL]
style: fill
color: info
image : /images/4bar.png
description:  This is where I recap my learning in CS50SQL
---
This is where I put my recap of the course **CS50‚Äôs Introduction to Databases with SQL (CS50SQL)**. The course includes a total of 7 modules splitting into 7 weeks. Here is the Table of Contents:
- [Week 0: Querying](#week-0-querying)
  - [0.1. Database](#01-database)
  - [0.2. SQL](#02-sql)
  - [0.3. CLI syntax](#03-cli-syntax)
  - [0.4. Some Notes](#04-some-notes)
- [Week 1: Relating](#week-1-relating)
  - [1.1. Entity Relationship Diagram](#11-entity-relationship-diagram)
  - [1.2. Keys](#12-keys)
  - [1.3. ERD, Snowflake, and Star Schema:](#13-erd-snowflake-and-star-schema)
  - [1.4. Subquery](#14-subquery)
  - [1.5. Sets](#15-sets)
- [Week 2: Designing](#week-2-designing)
- [Week 3: Writing](#week-3-writing)
- [Week 4: Viewing](#week-4-viewing)
- [Week 5: Optimizing](#week-5-optimizing)
- [Week 6: Scaling](#week-6-scaling)
  
# Week 0: Querying
## 0.1. Database
**Dabatase** is a way of organizing data such that we can perform four operations on it:
- create
- read
- update
- delete

**Database management systems (DBMS)** provide a way to interact with databases, and users can choose to interact with them through a graphical user interface (GUI) or command-line interface (CLI). The choice between GUI and CMD often depends on user preference, the complexity of the task, and the specific features offered by the DBMS.

Some well-known DBMS: MySQL, Oracle, PostgreSQL, SQLite, Microsoft Access, MongoDB, etc.

## 0.2. SQL
**SQL** stands for Structured Query Language, and it is widely used to interact with relational databases. Each Database Management System (DBMS) has its own implementation of SQL, which may lead to some differences in syntax and features. 

It's also worth noting that not all databases use SQL. As you mentioned, MongoDB is an example of a NoSQL database, and it doesn't use SQL for queries. NoSQL databases typically offer a more flexible and scalable approach to data storage compared to traditional relational databases.

## 0.3. CLI syntax 

Here's a table summarizing the basic command-line interface (CLI) syntax for PostgreSQL and MySQL:

| Operation                           | PostgreSQL                                     | MySQL                                   |
|-------------------------------------|------------------------------------------------|-----------------------------------------|
| Connect to a Database               | `psql -d db_name -U user_name`                  | `mysql -u user_name -p -D db_name`      |
| Check Database Version              | `SELECT VERSION();`                            | `SELECT VERSION();`                     |
| List All Databases                  | `\l`                                           | `SHOW DATABASES;`                       |
| Access or Switch a Database         | `\c db_name`                                   | `USE db_name;`                          |
| List All Tables                     | `\dt`                                          | `SHOW TABLES;`                          |
| Describe All Tables                 | `\d`                                           | N/A (use `DESCRIBE table_name;` or `SHOW COLUMNS FROM table_name;`)|
| Describe a Specific Table           | `\d tab_name`                                  | `DESCRIBE tab_name;`                    |
| List All Schemas                    | `\dn`                                          | N/A                                     |
| List All Views                      | `\dv`                                          | `SHOW FULL TABLES FROM db_name WHERE TABLE_TYPE LIKE 'VIEW';`|
| List All Functions                  | `\df`                                          | `SHOW FUNCTION STATUS WHERE Db = 'db_name';`|
| List All Users                      | `\du`                                          | `SELECT user FROM mysql.user;`          |
| Show Commands History               | `\s`                                           | `SHOW VARIABLES LIKE 'max_query_history';`|
| Save Query‚Äôs Results to a File      | `\o file_name`                                 | `TEE file_name;` (within `mysql` shell) |
| Run Commands/Queries From a File    | `\i file_name`                                 | `source file_name;` (within `mysql` shell)|
| Execute Previous Command            | `\g`                                           | N/A (use `;` to execute the last command)|
| Show Query Execution Time           | `\timing`                                      | `SHOW PROFILES;`                        |
| Get Output in HTML Format           | `\H`                                           | N/A                                     |
| Align Columns Output                | `\a`                                           | N/A                                     |
| Get Help                            | `\h`                                           | `HELP;` or `?\G` (for more detailed help)|
| Get All Commands                    | `\?`                                           | N/A                                     |
| Clear Screen                        | `\! cls` or `\! clear`                         | N/A (use system-specific command)       |
| Quit                                | `\q`                                           | `QUIT;` or `EXIT;`                      |

## 0.4. Some Notes
`LIKE`
- `LIKE` is combined with the operators `%` (matches any characters around a given string) and `_` (matches a single character).
- Comparison of strings with `LIKE` is by default case-insensitive, whereas comparison of strings with `=`is case-sensitive. 

Operators
- The operators that can be used to specify conditions in SQL are `=` (‚Äúequal to‚Äù), `!=` (‚Äúnot equal to‚Äù) and `<>` (also ‚Äúnot equal to‚Äù).


# Week 1: Relating

## 1.1. Entity Relationship Diagram
An ERD is a visual representation of the relationships among entities in a database. It uses entities, attributes, and relationships to depict the logical structure of a database. The main components include:
- **Entities:** Represent objects or concepts (e.g., customers, orders).
- **Attributes:** Characteristics or properties of entities.
- **Relationships:** Connections between entities.

There are 3 types of relationship: one-to-one, one-to-many and many-to-many relationships between tables in a database. Example below:

![Longlist DB](/images/cs50sql/longlistdb.png)

Each table is an entity in our database. The relationships between the tables, or entities, are represented by the verbs that mark the lines connecting entities.

![Relationship](/images/cs50sql/relationship.png)

Each line in the diagram is in crow's foot notation:
- The first line with a circle looks like a 0 marked on the line. This line indicates that there are no relations.
- The second line with a perpendicular line looks like a 1 marked on the line. An entity with this arrow has to have at least one row that relates to it in the other table.
- The third line, which looks like a crow‚Äôs foot, has many branches. This line means that the entity is related to many rows from another table.

## 1.2. Keys 
There are two types of keys: Primiary Key and Foreign Key

**Primary Key**

A primary key is a unique identifier for each record in a table. It ensures that each record can be uniquely identified and distinguishes it from every other record in the table. By default, a primary key also implies that the attribute must contain unique values and cannot have NULL values. Common examples of primary keys include employee IDs, product codes, or any other attribute that uniquely identifies each record.


**Foreign Key**

A foreign key is a column or a set of columns in a relational database table that refers to the primary key of another table. It establishes a link between the data in two tables, creating a relationship. The table containing the foreign key is called the referencing or child table, and the table containing the primary key being referred to is called the referenced or parent table.

**Create Keys**

We can create Primary Key and Foreign Key, at the table creation step and by altering an existing table:

- At Table Creation:

```sql
-- Creating Table1 with a Primary Key
CREATE TABLE Table1 (
    StudentID INT PRIMARY KEY,
    StudentName VARCHAR(255),
    -- Other columns...
);

-- Creating Table2 with a Foreign Key referencing Table1
CREATE TABLE Table2 (
    CourseID INT PRIMARY KEY,
    CourseName VARCHAR(255),
    StudentID INT,
    FOREIGN KEY (StudentID) REFERENCES Table1(StudentID)
);

```

-  Alter Existing Table:

```sql
-- Adding a Primary Key to an Existing Table
ALTER TABLE Table1
ADD PRIMARY KEY (StudentID);

-- Adding a Foreign Key to an Existing Table
ALTER TABLE Table2
ADD FOREIGN KEY (StudentID) REFERENCES Table1(StudentID);

```

 **üóíÔ∏èNote:** In most relational database management systems (RDBMS), you cannot alter both the foreign key (FK) and primary key (PK) in a single query. You typically need separate statements to alter the primary key and foreign key constraints.

## 1.3. ERD, Snowflake, and Star Schema:
- **ERD and Schema Design:** ERDs are often used in the initial stages of database design to conceptualize and plan the relationships between entities. Snowflake and Star Schemas are implementations of these concepts in a physical database structure.

- **Normalization:** Both Snowflake and Star Schemas involve a form of normalization. The Snowflake Schema takes normalization further by breaking down dimensions into more tables.

- **Data Warehousing:** Snowflake and Star Schemas are commonly associated with data warehousing, where they provide efficient structures for handling large amounts of data. ERDs, on the other hand, help in understanding the logical relationships regardless of the physical implementation.

## 1.4. Subquery
Subqueries in SQL can be placed in different parts of a query, such as the WHERE clause, SELECT clause, and FROM clause. The placement of the subquery depends on the specific requirement and the role the subquery plays in the overall query.

```sql
SELECT "name"
FROM "authors"
WHERE "id" = (
    SELECT "author_id"
    FROM "authored"
    WHERE "book_id" = (
      SELECT "id"
      FROM "books"
      WHERE "title" = 'Flights'
    )
);
```

## 1.5. Sets
- INTERSECT 
  ```sql 
  SELECT "name" FROM "translators"
  INTERSECT
  SELECT "name" FROM "authors";
  ```
- UNION
  ```sql
  SELECT 'author' AS "profession", "name" 
  FROM "authors"
  UNION
  SELECT 'translator' AS "profession", "name" 
  FROM "translators";
  ```
- EXCEPT
  ```sql
  SELECT "name" FROM "authors"
  EXCEPT
  SELECT "name" FROM "translators";
  ```
# Week 2: Designing


# Week 3: Writing


# Week 4: Viewing


# Week 5: Optimizing


# Week 6: Scaling